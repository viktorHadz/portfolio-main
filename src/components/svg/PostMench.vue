<script setup>
import { useTemplateRef, onMounted, computed, onBeforeUnmount } from 'vue'
import { useMouse, useWindowSize, useRafFn } from '@vueuse/core'
import gsap from 'gsap'
import { DrawSVGPlugin } from 'gsap/DrawSVGPlugin'

gsap.registerPlugin(DrawSVGPlugin)

const { width, height } = useWindowSize()
const { x: mouseX, y: mouseY } = useMouse()

// current screen values
const centerX = computed(() => width.value / 2)
const centerY = computed(() => height.value / 2)
// mouse from center
// const deltaX = computed(() => mouseX.value - centerX.value)
// const deltaY = computed(() => mouseY.value - centerY.value)
// normalized range between -1 left and +1 right
const mouseOffsetX = computed(() => {
  const normalized = (mouseX.value - centerX.value) / (width.value / 2)
  // clamped to not go past -1 to 1
  return Math.max(-1, Math.min(1, normalized))
})
const mouseOffsetY = computed(() => {
  const normalized = (mouseY.value - centerY.value) / (height.value / 2)
  return Math.max(-1, Math.min(1, normalized))
})

const headEl = useTemplateRef('head-el')
const browLeftEl = useTemplateRef('brow-left-el')
const browRightEl = useTemplateRef('brow-right-el')
const eyeLeftEl = useTemplateRef('eye-left-el')
const eyeRightEl = useTemplateRef('eye-right-el')
const mouthEl = useTemplateRef('mouth-el')
const shirtEl = useTemplateRef('shirt-el')

// GSAP transform setters
let setEyeLx, setEyeLy, setEyeRx, setEyeRy
let setBrowLy, setBrowRy
let setMouthSkewX, setMouthScaleY, setMouthY
let headBobTl
let shirt

let stop // vue raf stop handle

const MAX = {
  brow: {
    offsetY: 5,
  },
  eye: {
    offsetX: 5,
    yTop: 3,
    yBottom: 5,
    xRight: 5,
    xLeft: 7,
  },
}

onMounted(() => {
  // assign GSAP setters
  setBrowLy = gsap.quickTo(browLeftEl.value, 'y', { ease: 'power3' })
  setBrowRy = gsap.quickTo(browRightEl.value, 'y', { ease: 'power3' })

  setEyeLx = gsap.quickTo(eyeLeftEl.value, 'x', { ease: 'power3' })
  setEyeLy = gsap.quickTo(eyeLeftEl.value, 'y', { ease: 'power3' })
  setEyeRx = gsap.quickTo(eyeRightEl.value, 'x', { ease: 'power3' })
  setEyeRy = gsap.quickTo(eyeRightEl.value, 'y', { ease: 'power3' })

  gsap.set(mouthEl.value, { transformOrigin: '50% 50%' })
  setMouthSkewX = gsap.quickTo(mouthEl.value, 'skewX', { duration: 0.18, ease: 'power2' })
  setMouthScaleY = gsap.quickTo(mouthEl.value, 'scaleY', { duration: 0.18, ease: 'power2' })
  setMouthY = gsap.quickTo(mouthEl.value, 'y', { duration: 0.18, ease: 'power2' })

  gsap.set(headEl.value, { transformOrigin: '50% 50%', transformBox: 'fill-box' })
  // emerges from portal then iddly bobs
  headBobTl = gsap
    .timeline({ paused: true })
    // emerge
    .fromTo(headEl.value, { y: 10 }, { y: 0, duration: 0.9, ease: 'power3.out' })
    // idle bob loop
    .to(headEl.value, {
      y: 4, // peak
      duration: 1.2,
      ease: 'sine.inOut',
      yoyo: true,
      repeat: -1,
    })
  headBobTl.play(0)

  shirt = gsap
    .timeline({ paused: true })

    .to(shirtEl.value, {
      y: 2,
      duration: 1,
      ease: 'sine.inOut',
      yoyo: true,
      repeat: -1,
    })
  shirt.play(0)
  shirt.play(0)
  const { pause } = useRafFn(() => {
    if (mouseOffsetX.value < 0) {
      setBrowLy(mouseOffsetX.value * MAX.brow.offsetY)
      setBrowRy(0)
    } else if (mouseOffsetX.value > 0) {
      setBrowRy(mouseOffsetX.value * -MAX.brow.offsetY)
      setBrowLy(0)
    }

    const eyeX =
      mouseOffsetX.value < 0
        ? mouseOffsetX.value * MAX.eye.xLeft
        : mouseOffsetX.value * MAX.eye.xRight
    const eyeY =
      mouseOffsetY.value < 0
        ? mouseOffsetY.value * MAX.eye.yTop // looking up
        : mouseOffsetY.value * MAX.eye.yBottom // looking down

    setEyeLx(eyeX)
    setEyeLy(eyeY)

    setEyeRx(eyeX)
    setEyeRy(eyeY)

    const smile = Math.max(0, -mouseOffsetY.value)

    setMouthSkewX(mouseOffsetX.value * -15)
    setMouthScaleY(1 + smile * 0.3)
    setMouthY(smile * 1)
  })

  stop = pause
})

onBeforeUnmount(() => {
  stop?.()
  headBobTl?.kill()
})
</script>
<template>
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 501 501">
    <g id="Group 305">
      <g id="post-mench">
        <g id="portal">
          <path
            id="back"
            class="fill-[#58BA11]"
            d="M249.8 84.3c12.7-1.8 28 .8 41.6 7.1 6.7 3.2 7 3.3 16.7 6.2a98.5 98.5 0 0 1 49.5 30.2c15.7 17 21.6 28.5 25.1 48.2 1.5 8.8 2 10 7 20.7a97 97 0 0 1 5.9 76c-2.2 6.9-2.3 7-3 15.6-1.6 22.7-5.4 32.7-17.8 47-5.1 6-10.3 12-15.2 18.1a96.7 96.7 0 0 1-35 28.3c-8.8 4.7-8.6 4.7-10.3 8-2 3.9-6.8 1-11 3.3a93.4 93.4 0 0 1-70 4.5 1390 1390 0 0 0-19.5-5.8c-16.4-4.8-16.3-4.7-22.8-10.2-5.3-4.5-7.6-6-17-11.7-15.4-9.2-18.1-11.7-25.4-23.4-6.2-10-7.8-12.1-13.9-19a57.9 57.9 0 0 1-17-35.5c-.6-3.9-1.8-8.2-3.6-14-7-22-7.2-33.2-1-53 2.7-9 3.3-12.2 3.8-19.7 1-15.8 2-19.1 12.6-38.3 7.7-13.8 14.5-28 27-37.8 9.2-7.1 13.6-10.7 18.8-15 14.6-12 22.1-15.7 44.8-22 9.9-2.8 19.6-6.3 29.7-7.8Z"
          />
          <path
            id="dark-center"
            class="fill-[#159B1B]"
            d="M313.4 122.5a23.4 23.4 0 0 0-8.6-8.4c-7.4-4.3-15.7-5.5-23.2-9.4a92 92 0 0 0-78.7-4c-5.7 2.5-6.4 4.3-2.9 7 3.6 2.8 2.4 4.7-4.3 6.5-12.7 3.6-22.6 13.5-33.5 20.8-15 10-13.2 13.6 2.3 4.9 12-6.8 31-13 30-9.6-.5 1.4-3.6 3.6-9.5 7-34 19.1-20.2 21.2-36.7 43-15.8 20.8-16.8 23-18 39-.3 3.5-2.8 14.6.6 17.2 1.9 1.4 6-25.2 11-27 2-.9-.4 17.4-.1 20.6.5 5.2.5 5.9-1.2 13.4a67.1 67.1 0 0 0-.8 30.6c4.1 18.5 15.1 83 38.9 82 1 0 .8-.3-4.5-6.5-6.6-7.6-10.7-16.2-8-16.6.7 0 2.1 1.2 9 8a82.1 82.1 0 0 0 21.6 16.4c12.4 7.3 16.7 12.9 10 12.8-8-.1-8.3 0-6.4 3.3 5.7 10.3 23.5 3.3 31 12.2 9.8 11.4 14.2 13.6 26.3 13.2 32.7-1.2-15.1-9.5-14-15.3.3-1.9 2.5-2.2 18.4-3 15.4-.8 18.7-1.3 25-4 4.4-1.8 9-3 16-4.2a43 43 0 0 0 28.9-16.7c5.4-6 4-6.4-7.1-2-10.7 4.2-22 5.7-32.7 9.5-7.2 2.6-9 2.9-10.3 1.6-2-2-.4-3.8 6-6.4 10.8-4.5 19.2-13 31.3-14.2 14.7-1.5 19.6-21.8 30.2-30.9 7.8-6.7 12-16.2 13-29.7.4-5.6.2-6-2-3.3-1.7 2.2-2.9 2.6-3.5 1.3-.5-1-.2-3 2-13 1.2-6 1.8-10 1.7-12.6-.2-14.6 1-18.3 3.8-12.5 3 5.9 4.7 6 3.7.3L367 232a73 73 0 0 0-7.4-29.3c-1.5-3.2-3.7-8.9-5-12.5-3.7-10.4-9.7-19.8-13.3-30.2-5.2-15.6-18.5-24.8-27.8-37.5Z"
          />
          <path
            id="swirl-main"
            fill="#AFD84B"
            class="fill-[#A3D920]"
            d="M289 95a68 68 0 0 0-38-7l-28 8c-20 6-27 9-41 21l-17 14c-11 9-17 23-24 36-10 18-11 21-12 36 0 7-1 10-3 19-6 19-6 29 1 50l3 14a56 56 0 0 0 15 34c6 6 7 8 13 18 7 11 9 13 23 22a95 95 0 0 1 16 11c6 5 6 5 21 10l17 5c22 8 46 6 64-4 4-2 9 1 11-3 1-3 1-3 9-8a89 89 0 0 0 32-27l14-17c11-14 15-23 16-45l3-15c8-25 6-47-5-72a57 57 0 0 1-7-20 81 81 0 0 0-23-46 90 90 0 0 0-45-28 78 78 0 0 1-15-6Zm-72 11c14-3 28-11 42-8l7 2c26 11 57 15 72 43l8 10c8 8 9 9 20 33 11 26 12 28 12 39 1 7 0 7-3 1-5-12-7-10-4 4 2 9 2 15 0 25-2 8-2 12-1 19 4 27-15 40-26 60-18 29-68 57-99 43-14-6-31-3-43-15l-16-15a32 32 0 0 0-10-8c-9-5-10-6-18-18a84 84 0 0 1-15-28l-7-17a73 73 0 0 1-5-52l3-13a130 130 0 0 1 49-85l9-7c9-8 13-10 25-13Zm13 12h-9l-19 8a87 87 0 0 0-52 48c-2 5-2 7 2 6 3 0 3 2 0 7-6 11-7 24-11 35-4 16-1 18 4 2 5-12 13-28 14-25 1 1 0 4-2 10-12 35-2 27-2 52 1 24 1 26 8 38 2 2 6 11 9 11 2-1-8-21-6-25 1-2 8 11 10 13 3 3 3 4 6 10a53 53 0 0 0 15 21c12 9 51 45 65 30 1-1 1-1-6-2-8-1-15-4-13-6h9c11 0 12-1 22-3 12-3 17-2 13 2-5 5-5 5-3 6 9 3 17-13 26-11 12 1 16 0 23-8 20-22-14 3-16-2-1-1 0-3 10-13a64 64 0 0 0 14-19c1-4 4-8 8-13a47 47 0 0 0 9-29c1-8 0-7-5 3l-16 27c-3 6-4 8-6 8s-2-3 1-8c5-10 6-21 13-30 8-10 1-27 3-39 2-10 0-19-6-28-3-4-3-4-3-1 0 2-1 3-2 3l-5-10a52 52 0 0 0-5-10c-8-9-9-12-4-10s6 1 3-2l-7-7a52 52 0 0 0-19-15l-10-5c-7-5-16-7-23-12-11-7-24-4-37-7Zm55 211c8-2 10-3 11-2 4 4-17 14-27 12-7-1-4-3 16-10Zm36-112c2 0 1 4 1 5 0-2 8 0 9 4 4 17 1 44-9 61a98 98 0 0 1-44 35c-11 5-12 6-7 7 3 1 2 2-3 4-15 6-40 0-49-11-7-9-5-13 4-7 14 10 26 11 36 5 11-7 24-5 33-16 3-4 4-5 9-8 12-10 18-19 20-28 1-3 1-4-2-2s-3-1 2-11c6-12 6-17 1-30-2-1-5-7-1-8Zm-13 103h4c2 3-1 8-6 9-6 2-4-6 2-9ZM191 190c8-14 32-25 45-22 11 2 11 6 1 7-17 2-27 8-32 19s-16 17-16 31l-3 12c-4 14-4 24-1 33 2 2 2 2 3 0 2-4 3-2 5 8 2 12 5 16 15 23 3 0 8 1 6 5-1 4-3 5-4 5l-9-5a76 76 0 0 1-26-50 97 97 0 0 1 14-53c6-9 7-11 3-9s-4 0-1-4Zm104 84c7 2 15-25 16-22 4 8-8 29-25 43-14 11-19 13-28 10l-9-2c-14 0-22-4-26-11-4-6-17-17-12-25 2-2 3-1 6 6a40 40 0 0 0 68 9c6-7 8-9 10-8Zm-97-40a47 47 0 0 1 56-40c12 3 16 6 17 14l5 9c6 6 6 9 4 18-3 12-3 16 1 11 3-3 3-2 3 2-1 8-8 17-17 21-2 1-4 2-4 4 0 13-26 9-33-5a77 77 0 0 0-3-5c-4-7-4-14-1-22 7-12 24-17 27-6 0 2 1 3 3 2 4-3 3 5 0 10-3 3-7 2-6-1 2-12-10-10-13 2-4 13 7 25 20 21 6-2 8-6 2-5-4 0-7-1-7-3l4-2c8-1 11-4 13-13l2-7c3-11-1-17-11-20-18-5-20-8-9-11 6-1 6-2 2-4-18-9-44 7-50 31-3 10-7 9-5-1Zm62-62 7 1c15 3 25 8 30 16 6 11 8 27 5 41-2 9-2 11 1 7 2-3 3-2 2 3-3 13-19 32-32 38-5 2-9 4 0-3 13-10 20-21 20-31 0-3-2-4 0-7 4-12 4-15 2-21a23 23 0 0 1-2-9c-1-11-4-18-10-21-2-1-3 0-3 2 0 3-2 2-7-3-6-6-9-7-21-6-2 2-6 4-6 0 0-3 1-5 2-5l9-2 2 1h1v-1Zm-30-27c15-2 38 9 45 22 3 5 5 8-3 1-12-12-25-14-35-11-4 1-4 4-8 4-14 0-17 1-23 6l-9 6c-12 6-19 13-22 21-1 3 0 3 2 3 3-2 6 6 1 14-6 10-8 4-5 16 2 3 1 10-2 11-4 2-5 1-6 0l-3-10c-1-5 0-4 1-10 1-19 6-33 13-42a76 76 0 0 1 44-23c11-2 12-2 8-4-3-2-3-3 2-4Zm74 87v1-1Zm18-21c0-5 2-6 4-3 5 5 3 16-1 11a14 14 0 0 1-3-8Zm-92-72c0-4 19-8 28-7 8 2 15 7 23 10a43 43 0 0 1 24 21c5 10 18 17 18 29 0 5-2 4-6-4l-16-20a60 60 0 0 0-29-22c-9-4-11-5-27-5l-15-2Zm117 37c-2-7-10-16-11-13-2 4 7 28 10 28 2 1 3-12 1-16Zm-185-2c-3-5 8-18 11-14 4 4-8 18-11 14Zm14-23c0-4 7-9 8-6 2 5-9 11-8 6Zm168-8c1-1 2 0 3 1 3 2 3 6 1 6s-5-5-4-7Zm-145-2c11-11 36-20 46-15 6 2 3 4-9 5-8 1-40 13-37 10Zm98-14c-5-5-22-17-28-12-1 1 2 4 12 9l12 8c9 9 12 5 4-5Z"
          />
          <g transform="translate(0,-20)">
            <g id="rotator" fill="white" class="fill-white">
              <path
                d="M201.3 176.3c-1.5-3.3 16.3-13.4 25.6-14.6 24.1-3 71.6 14.6 78 40.8 1.3 5.5-23-14.2-27.5-17.7-11.3-8.8-16.5-11-33.2-13.6-6.4-1-42.3 6.4-42.9 5.1ZM362.7 242.9c-.7-7.7-7.5-28.2-15.5-28.7-.4 0 18.6 60.3 15.5 28.7ZM319.4 219.9c1.7-1 1.7 3.8 2.5 4-.3-1 7.7-1.7 9.4 1.4 20.6 38.7 4.4 86-28.9 111.4-14.3 10.9 1.5 6.4-6.9 13.2-13.1 10.5-39.2 12-51 2.8-6-4.6 54.7-11 67.2-38.4 7-15.2 21-26.4 20.4-44.5-.2-5.2-6.5 2.6-3.6-12.3 2.6-13.5 1.6-18.6-5.7-29.8-2.4-1.2-7.2-5.8-3.4-7.8ZM185.2 230.5c5-16 25-33.7 39.3-34.6 10.8-.7 11.8 2.7 2 6.8C174 225 182.1 322.1 229 335.3c7.6-1.9 9.7 13-5.6 7.1a72.5 72.5 0 0 1-38.4-41.7 102 102 0 0 1 1.8-56.4c5.7-17.3-4.7-3.6-1.6-13.8Z"
              />
              <path
                d="M307.6 283.8c7 .1 9-29 10.7-27 24 29.2-46.3 95-77.2 65.7-5-4.7-20.8-12-17.3-21 1-2.5 2.4-1.7 7 4 19.2 23.4 56.2 16.8 68.9-11.1 4-8.7 5.4-10.6 7.9-10.6Z"
              />
              <path
                d="M202.7 272.7c-2.8-28.3 18.2-54.3 45.3-56 14.5-.9 35.7 16.8 35.3 32.7-.5 20.3 5.7 5 7 12.2 8 42-67.8 55.4-57.8 9.7 5.2-23.6 37-18 30-2.8-4.5 9.6-17.8-21.6-18.4 6.8-.4 13.7 13.4 21.8 24.8 14.6 16.1-10.2-16.7-3-3.3-9.3 16-7.4 14.3-41.3-5.9-41.1-30.6.3-3.7-11.6-9.7-12.8-20.4-4-42 19.1-42.4 45.4-.2 10.2-4 10.7-5 .6ZM157.8 221.3c-.4-4.3 5-10.2 7-7.6 3.1 4.1-6.5 13.6-7 7.6ZM184.7 189.4c-3 1.8-8 9.5-7 10.8 6.5 12.6 19.3-18.3 7-10.8ZM342.7 320.8c0-6.1 6-44.3 8.6-42.7 6.1 3.9-4.2 52.3-13.5 58.5-11.6 7.7-6.5-5.5 5-15.8ZM149 238.2c.4-16 6.8 4.1 9.2-3 1.8-5.4-14 57-3.6 56.8-8.6 22.5-14.6-17-5.6-53.8ZM286 160c33.3 3.9 43 46.7 45.6 32-4.2-18-22.8-28.2-42.4-40.4-9.8-6.2-20.9-2.7-3.2 8.3ZM162.8 191.3c-9.5 20-16.3 11.4-3-3.7 2.5-3 6.3-10 31-20.9 5-.3-18.2 13.6-28 24.6ZM320.2 202.3c-1.2-4.7.3-6.7 3.4-4.6 11 7.4 0 19-3.4 4.6ZM172.9 338c-10-13.4-17-21.8-17-28.7-2-11.9 6.6 2.4 6.6 2.4-7 11 75.7 85 88.6 66.5-2.8-2.8 5.6-2 15.6 0 12.2 2.5 12.4-4 31.4-4 1-2.5 18.9-17.7 22-14.7 10 3.9-10.2 11.6-18.3 17-25.9 17.3-61.9 10.1-80 3.6-17-6.1-27.2-17.4-37.5-31.6-10.7-14.8-5-2-11.4-10.6ZM305.3 246.3c-4-22-4-24.5-27.5-43.3-23.4-8.6 7.5 4.6 12.3 15.5 9.3 21.6 11.2 82.3 15.2 27.8Z"
              />
            </g>
          </g>
        </g>
        <g id="neu-huma-post-mench">
          <path
            id="arm-left"
            fill="#F8BB9E"
            stroke="#000"
            stroke-width="1.2"
            d="M172.8 291a584.4 584.4 0 0 0 5 3.7c4 3.2 9.3 6.7 13.3 8.9l2.5 1.3 1.2.8c.3.3.6.6.6 1l-.2.5-.1.4a1010.1 1010.1 0 0 1-44.2 63 85 85 0 0 0-7.8 10.9c-1.4 2.6-2 5-2.9 8.8-.9 4.6-2.2 8.3-3.6 11-1.4 2.8-3 4.7-4.5 5.5-.8.3-1.6.4-2.3.1-.8-.3-1.4-1-1.8-1.8-1-1.8-1.4-4.8-1.2-9 .1-2.4.1-4-.2-5.2-.1-.5-.3-.9-.5-1.1-.3-.2-.6-.4-1.2-.4-1.1-.1-2.9.2-5.6 1.2-2.8.9-6.4 2.3-11.2 4.3-4.8 2-8.4 3.2-11 3.8-2.5.6-4.3.6-5.6 0-.6-.4-.9-.9-1-1.5 0-.6.3-1.2.6-1.8.7-1.2 2-2.6 3.7-4a40 40 0 0 1 14-7.8 50 50 0 0 0-13.3 6.8c-2 1.5-3.4 2.5-4.4 3a6 6 0 0 1-3.1.7c-1 0-1.8-.2-2.4-.5-.6-.3-1-.8-1.2-1.4a3 3 0 0 1 .3-1.9c.3-.6.7-1.3 1.3-2 2.4-2.6 7.1-5.7 12.8-7.8l1.7-.7c-1 .2-2.3.7-4.4 1.5-3.8 1.5-7.1 2-9.1 1.7-.5 0-1-.2-1.3-.4-.4-.2-.7-.5-.8-1-.1-.4 0-.8.2-1.2.2-.5.6-.9 1-1.3 4.2-4 9.9-5.3 26.4-6.6 5.2-.4 8.3-.7 10.2-1 2-.4 2.7-.7 3.2-1.2l2.2-2.8 3.5-5.8a744 744 0 0 0 12.3-22.7 804 804 0 0 1 22.3-40.3c2-3.3 3.5-5.4 4.5-6.5.5-.5 1-1 1.4-1.1.2-.1.4-.2.7-.1Z"
          />
          <path
            id="arm-right"
            fill="#F8BB9E"
            stroke="#000"
            stroke-width=".8"
            d="M334.3 259.8c1.7-.2 3.8.3 6 1.4 4.3 2.1 9.5 6.4 14.3 12.2a45.3 45.3 0 0 1 10.7 18 186 186 0 0 1 4.7 37 487.4 487.4 0 0 0 3 29l.3 1.3c.1.2.2.2.4.3.2.3.6.5 1 .8l3.9 2.2c7.4 4 12.9 7.6 16.6 11.1 3.7 3.5 5.6 7 5.9 10.5 0 1.5-.1 2.7-.6 3.5a2 2 0 0 1-1.1.8H398a8 8 0 0 1-3.2-1.9c-1.2-1-2.5-2.4-3.8-4.2a77.2 77.2 0 0 0-6.5-7.5h-.4v.2l.2.4.6.8c3.3 3.6 6 7.4 7.5 10.8.8 1.7 1.4 3.3 1.6 4.7.2 1.3 0 2.5-.5 3.4-.4.7-1 1-1.8 1.2-.7 0-1.5-.2-2.3-.7-1.8-1-4.1-3-7-6.2a245.9 245.9 0 0 0-10.2-10.2l-.2-.1h-.2v.3c0 .3.4.9 1 1.5a34.1 34.1 0 0 1 8 16.6c0 .7 0 1.4-.3 1.9a2 2 0 0 1-.7 1.1l-.2.1c-.7.3-1.4.3-2.2 0-.8-.3-1.6-.9-2.5-1.7a52.2 52.2 0 0 1-7-8.3c-2-2.8-3.5-5-5-6.5a11.5 11.5 0 0 0-4-3c-2.3-1-4.8-.1-8.8 2.2a28 28 0 0 1-8.2 3.5c-1 .2-1.9.2-2.6 0-.7-.1-1.2-.5-1.5-1-.3-.6-.3-1.3-.2-2a9 9 0 0 1 1.2-2.7c1.2-2 3.3-4.3 6.3-7a58.2 58.2 0 0 0 9.1-10.6l.3-1v-2c-.1-1.7-.4-3.8-.9-6.6-1-5.5-2.7-13.4-5.4-24l-4-17c-1.2-4.6-1.9-7.3-2.6-9a9.2 9.2 0 0 0-2.4-3.8 65.4 65.4 0 0 0-10.7-7.5h-.2l-.1-.2a22.7 22.7 0 0 1-1.6-1 61.7 61.7 0 0 1-6.6-5.7c-.4-.4-.7-1-.8-1.3-.1-.5-.2-1 .2-1.3 1.7-1.9 3.6-5.2 5.5-8.9a311.9 311.9 0 0 0 5.5-11.2 4.7 4.7 0 0 1 4-2.7Z"
          />
          <path
            id="shirt"
            ref="shirt-el"
            fill="#000"
            stroke="#000"
            stroke-width=".4"
            class="z-10"
            d="M259.9 215.7c.2.6.7 1.5 1.3 2.4 1.2 1.8 3.1 3.6 5.9 3.6a87 87 0 0 1 56 19.2 256 256 0 0 1 21.6 19 24.6 24.6 0 0 1 2 2.5l.2.4c0 .3 0 .6-.2.8l-.6.9c-.6.8-1.5 2.2-3 5.2a98 98 0 0 1-12.5 18.8c-1.7 1.8-2 2.5-5.7 6l-1.2 1.1-.8.8a2 2 0 0 1-.8.3c-.2.1-.5 0-.8 0a11 11 0 0 1-2.8-1.7l-5.7-4.1-3-2.2-1-.5-.6-.3-.6.1-.4.5-.5 1.7c-6.5 27.6-29 47.9-52 47-12.7-.4-20.4-1.6-26.4-5.5-6-4-10.4-10.6-16.2-22a116.1 116.1 0 0 0-4.2-7.3h-.1v.1l-.5.6a171.3 171.3 0 0 0-4.1 5.8A3776 3776 0 0 1 196 319l-1 .8c-.7.2-1.4 0-2.8-.5l-2.6-1c-.3 0-.4-.1-1-.4l-5.1-2.8a101.3 101.3 0 0 1-16.1-11l-1.8-1.4-3.7-3.5c-.3-.4-.6-.6-.7-.9l.2-1.4c.5-1.5 1.9-4.2 4.7-9.7a156.4 156.4 0 0 1 28-41.4 20.8 20.8 0 0 1 9.5-5.3l.8-.2h.2c5 2.2 11 2.1 17.1.7a77.8 77.8 0 0 0 32.7-18.2c1.8-1.7 3.2-3.3 4.2-4.7a9.6 9.6 0 0 0 1.2-2.6v.2Z"
          />
          <path
            id="neck"
            fill="#EFBDA2"
            stroke="#000"
            stroke-width=".4"
            d="m256.7 211.4.1.1.6 1 1.6 4c1 3.2 2.1 7.2 2.2 9.5.7 10.7-6.2 20.4-15 25.6-8.5 5.2-19 6.1-25.8-.4l-.4-.3-.6-.6c-1.5-1.5-3-3-4.1-4.3a14.6 14.6 0 0 1-2.7-4.5c-.5-1.3-.3-2.5.5-3.3.9-.9 2.5-1.5 5.2-1.8 7.5-.8 15.6-4 22.5-8.6a47 47 0 0 0 15.9-16.4Z"
            style="
              fill: #efbda2;
              fill: color(display-p3 0.9373 0.7412 0.6353);
              fill-opacity: 1;
              stroke: #000;
              stroke-opacity: 1;
            "
          />

          <g id="face" ref="head-el">
            <path
              id="facefill"
              fill="#EFBDA2"
              d="m176.5 116.4 84-5 15.4 37-8.8 53.8-9.9 22.6-18.3 15.6-17 5-18.5-1-12.3-6.3-8.8-9-7.1-15.1-3.3-30.5 2.4-42.3 4-17.4-1.8-7.4Z"
              style="fill: #efbda2; fill: color(display-p3 0.9373 0.7412 0.6353); fill-opacity: 1"
            />
            <path
              id="nose-line"
              fill="#000"
              d="M202.5 191.6c-3.2-1.8-4.6-6.7-3.5-11.7.6-2.4 6.1-15.8 8.7-22.4.9-2.2 2.1-3 1.8-.3.1.3-1.1 3.3-2.7 6.6-9.8 20-8 30.1 4.8 26.3 2.5-.7 3.4-.5 2.8.6-1 1.9-9.1 2.5-11.9 1Z"
              style="fill: #000; fill-opacity: 1"
            />
            <g id="face_2" fill="#000">
              <path
                id="face-outline"
                d="M174.3 134.3c.5-2.4 1.5-5.3 1.5-5.5l1 1-.6 2.7c-1.4 5.4-2.7 13.1-3.4 22.2-.9 10.1 0 16.3 0 27.4 0 4 1 18 2.5 26.6 9 51.1 77.1 46.1 90.3-6.6 1.3-5.4 3-8.6 3-6 0 .3.5.6 1.2.9 8.5 3 20-10.3 20-23.1 0-12-9.3-14-16.8-3.6-2.2 3.1-2.8 3.5-3 .4 3.7-7.5 10.6-9.2 13.3-8.9 8.4 0 10.7 14 4.2 25.6-4.7 8.5-11.5 12.8-17.8 11.4-1.4-.3-1.4-.3-1.7 1.1a80 80 0 0 1-6.1 17.4l-2.4 4c-6.2 11.9-24 23.2-38.9 24.7-15 0-18.3-1.5-25.4-5a36 36 0 0 1-19.3-23.1c-2.9-9-4-17.1-4.8-33.5 0-1.9-.3-5.4 0-18.5a198.4 198.4 0 0 1 1.6-22.8c.3-2.5 1-6.5 1.6-8.8Z"
                style="fill: #000; fill-opacity: 1"
              />
              <path
                id="ear-outline-inner"
                d="M273.8 186.4c-3 0 2.8-11.8 8.1-16.5 1.1-1 2.2-1.8 2.4-1.8 1 0 .4 1.2-2.3 4a31 31 0 0 0-7.2 12.5c-.3 1-.7 1.8-1 1.8Z"
                style="fill: #000; fill-opacity: 1"
              />
            </g>
            <path
              id="mouth"
              ref="mouth-el"
              fill="#000"
              d="M231.7 202.2c-1-.4-1.4-1-.8-1.6 1.4-1.4 8.1 2.7 7.4 4.6-.3.8-1.3.7-1.8-.2-.9-1.6-1.8-1.7-3.8-.3-10 6.8-39 8.2-39 1.7 0-1 .7-1 3.8.2 10.3 3.7 20.7 3 31.7-2.2 3.5-1.7 3.5-1.7 2.5-2.2Z"
              style="fill: #000; fill-opacity: 1"
            />
            <path
              id="earfill"
              fill="#EFBDA2"
              fill-rule="evenodd"
              d="M273 170.3c7.5-10.4 16.7-8.5 16.7 3.6 0 12.8-11.4 26-19.9 23-.7-.2-1.2-.5-1.2-.7 0-1.7-.6-1-1.4.9 2.2-9 3.3-21.3 4-24.5l1.8-2.3Zm11.3-2.2c-.2 0-1.3.8-2.4 1.8-5.3 4.7-11 16.6-8 16.6.2 0 .7-.8 1-1.9.9-3.9 3.8-9 7-12.4 2.8-3 3.5-4.1 2.4-4.1Z"
              clip-rule="evenodd"
              style="fill: #efbda2; fill: color(display-p3 0.9373 0.7412 0.6353); fill-opacity: 1"
            />
            <g id="neu-glasses">
              <path
                id="fill"
                fill="#000"
                fill-rule="evenodd"
                d="M176 147.2c10.1-1.6 26.3 1.1 29.4 5 1.1 1.3 9.5 1.1 11-.3 5.1-4.8 19.4-5.2 35-1l6.8 1.7c1.4.4 3.8 1.7 6.6 3.5l5 3.1 6.3 4.8a50 50 0 0 1-2.8 2.8l-1.2-.6c-3-2.3-2.1-1.9-6.6-4.7-5.9-3.7-6.6-3.2-7.7 5.1-2 16.2-5.8 20-19.2 20-17.4 0-23.5-6-23.9-23.8 0-4.7 0-4.7-1.2-5.2-3.8-1.6-6.7-.5-6.6 2.7l.1 2c-1.4 4.2-6.6 16.3-8.2 20.2l-2.8.8a42 42 0 0 1-22-1c-1.8-1-3-1.4-4.3-3-3-3.7-4.4-8.4-4.8-16.7-.3-4.2-.4-5-1.2-6.2-3-4.4-1.8-6.8 3.5-7.7 3 0 6.4-1 8.8-1.5Zm65.7 5.2c-5-.8-9.8-1-13.9-.6-4 .3-7 1.2-8.8 2.6l-.2.1c-1 .9-1.7 2.6-2 4.9a36.4 36.4 0 0 0 2 15.8c1 2.4 2.1 4.4 3.4 5.5 1.3 1 3.3 2 5.7 2.7a39.5 39.5 0 0 0 15.4 1.3c2.4-.3 4.3-.8 5.6-1.7 1.2-.8 2.3-2.2 3.3-4a35.3 35.3 0 0 0 3.5-20.9c-.2-1-1.3-2.2-3.7-3.2-2.3-1-5.7-1.8-10.3-2.5Zm-57.1-1.7c-2.4 0-4.6 0-6.5.2-1.9.1-3.4.3-4.1.6-1 .4-2.2.7-3 .7-.7 0-1.3 0-1.7.2l-1 .5-.4 1c-.2.5-.2 1.1-.3 2a12.3 12.3 0 0 1-.5 2.2l-.3.5v.2l-.2.6v1.6a48.4 48.4 0 0 0 2.5 13.7c1 2 2 3.3 3 4 1 .8 2 1.2 2.7 1.6a27.8 27.8 0 0 0 15.4 2 20 20 0 0 0 6.5-2 7 7 0 0 0 3.5-3.7l2-5c2.4-5.4 3.1-9.9 2.1-13.2-1-3.3-3.6-5.5-8-6.7-2.3-.6-7.1-1-11.7-1Z"
                clip-rule="evenodd"
                style="fill: #000; fill-opacity: 1"
              />
            </g>
            <g id="beard">
              <path
                id="moustache"
                fill="#A78570"
                d="M185 204.5a17 17 0 0 1 14.2-8.6c2.9 0 5.5.8 6 .7 2.6.5 6.4-.3 7.7-1 .9-.3 1-1.2 1.2-1.1.3.2.7-.1 2.1 0 18.5 2 23 3.6 26 9.7 2.5 5.2 2.3 6-.7 2.4-.8-.8-3-3-5.4-4.6-1.7-.5-3-4-11.3 1.3-9.2 2.8-11 2.9-22.7 1-9.3-1.5-11.4-1.3-15.4 1.4-3.4 2.3-3.7 2.1-1.7-1.2Z"
                style="fill: #a78570; fill: color(display-p3 0.6549 0.5216 0.4392); fill-opacity: 1"
              />
              <path
                id="beard_2"
                fill="#A78570"
                d="M220.8 244.4c9-.4 31.2-8.2 41.2-31.3 2.4-5.9 3.3-9 5-15.4 2.5-9.5 3.6-22.9 4.2-25.5-.6.2-.7.3-1-.6-1.8 13.5-17.8 44.8-24.3 42.8-1.5-.6-1.6-.5-2.3 1.6-7.8 23.4-50.9 24.7-57 1.4-2-3.3-.7-4.3-1.5-4.3-6 1.1-9.4-11.5-11.5-18.3a68 68 0 0 0 3.7 22.6c1 4.3 7 13.6 13.1 18.5 9.7 7.7 18.7 9 30.4 8.5Z"
                style="fill: #a78570; fill: color(display-p3 0.6549 0.5216 0.4392); fill-opacity: 1"
              />
              <path
                id="soul-patch"
                fill="#554845"
                fill-opacity=".5"
                d="M206 222.1c-7.6-3.8-6.4-6.4 3.3-6.7 9.3-.3 10.4 0 10.4 2 0 4-9 7-13.7 4.7Z"
                style="
                  fill: #554845;
                  fill: color(display-p3 0.3333 0.2824 0.2706);
                  fill-opacity: 0.45;
                "
              />
            </g>
            <g id="left-eye" stroke="#000">
              <path
                id="outline-eye"
                fill="#fff"
                stroke-width="1.2"
                d="M185.2 154.3c9.9-3.7 19 6.4 14.3 15.8-1.3 2.8-4.5 4.6-8 5-3.6.6-7.5-.3-10.2-2.5-2.6-2.2-3.4-6.1-2.6-9.9.8-3.8 3.1-7.2 6.5-8.4Z"
                style="fill: #fff; fill-opacity: 1; stroke: #000; stroke-opacity: 1"
              />
              <path
                id="pupil"
                fill="#000"
                stroke-width=".4"
                ref="eye-left-el"
                d="M189.4 161.1c1 0 1.8.4 2.3 1 .5.5.8 1.3.8 2 0 1.6-1 3.3-2.8 3.7h-.2c-1.3.3-2.4-.5-3-1.8a3.7 3.7 0 0 1 1.7-4.7 3 3 0 0 1 1.2-.2Z"
                style="fill: #000; fill-opacity: 1; stroke: #000; stroke-opacity: 1"
              />
            </g>
            <g id="right-eye" stroke="#000">
              <path
                id="socket"
                fill="#fff"
                stroke-width="1.4"
                d="M232.4 155.7c4.6-1.7 9 .3 11.7 3.8 2.7 3.4 3.6 8.3 1.5 12.3-1.8 3-5.9 4.6-10 4.6-4.3 0-8.2-1.6-9.6-4.5a12 12 0 0 1-.7-9.4c1-2.9 3.4-5.4 7-6.8Z"
                style="fill: #fff; fill-opacity: 1; stroke: #000; stroke-opacity: 1"
              />
              <path
                id="pupil_2"
                ref="eye-right-el"
                fill="#000"
                stroke-width=".4"
                d="M235.7 162c1 0 1.9.4 2.4 1s.8 1.5.8 2.4c0 1.8-1 3.7-3.2 4-1.4.4-2.5-.6-3-2-.6-1.3-.5-3 .6-4.3l1-1a3 3 0 0 1 1.4-.2Z"
                style="fill: #000; fill-opacity: 1; stroke: #000; stroke-opacity: 1"
              />
            </g>
            <g id="brows">
              <path
                id="eyebrow-left"
                fill="#000"
                ref="brow-left-el"
                d="M174.1 145.6c-4.6-4.4-1-7.7-1-7.7s2-1 3.7-2.1c7.8-4.8 22-5 25.1-.3 2 3 .2 7-3 6.5-10-1.6-23.5.3-24.8 3.6Z"
                style="fill: #000; fill-opacity: 1"
              />
              <path
                id="eyebrow-right"
                ref="brow-right-el"
                fill="#000"
                d="M221.4 141c-2.3-4.6 1.5-8.2 9.2-8.7 11.6-.8 24.7 5.4 24.7 11.6 0 3.5-1.8 3.7-7.2 1a28.7 28.7 0 0 0-20-2.8c-4.6 1-5.7.7-6.7-1.2Z"
                style="fill: #000; fill-opacity: 1"
              />
            </g>
            <g id="hair">
              <path
                id="hair_2"
                fill="#000"
                d="M195 86c0-2.2.7-5.2 1.7-6.6.9-1.3 1.4-1.2 3.4.8 2.1 2 2.7 2.1 6.5.7 6.9-2.6 10.6-1.9 22.8 4.5l.3-2.4c0-4.2.8-4.9 3.5-3 1 .7 3.7 2 6 3s4.7 2 5.5 2.5c1.7 1 1.6 1 1.6-1.2 0-2.5.6-2.8 3-1.2l5.7 3c5.8 2.6 8.3 5.2 9.5 10 .5 2 .5 2 4 2 5.7 0 6.5.8 7.5 7.5.6 4 .6 4 2.2 5 2 1.1 4.2 4.3 4.2 5.8 0 .6.6 2 1.3 3 4.2 6.2 3.8 20.6-1 39.6-.6 2.7-.6 2.7.7 2.7-6.7.4-9.2 4.7-13.2 9.9l-.2-3.6-.2-8.9c.8.5.3-15.4-.5-18.6-.7-2.6-2.8-6.1-6.8-11.4a68.4 68.4 0 0 1-4-5.8c-.7-1.3-1.2-1.8-1.6-1.6-4.2 1.5-9.6-.3-11.2-3.8-.6-1.3-.9-1.6-1.5-1.4a25.3 25.3 0 0 1-8.1 1.4c-3.8 0-6.3-.8-7.8-2.6-1.4-1.5-1.1-1.5-2.6-.3-5.4 4.7-22.1 6-26.2 2.1-.2-.2-.9.1-1.6.7-3.6 3-11 4.6-16.1 3.4-1-.3-3.5 4.6-5 9.3-.3 0-1.1-.8-1.5-1 0-.3-1-1.2-2.5-2-7.1-4.2-11.4-12.5-8.1-16 .8-.9.8-1 .3-3.2-1.6-6.1-.6-9.5 2.7-8.9 3.6.7 4.5.3 8.6-3.8 5.5-5.7 9.8-7.8 15.6-7.8 3 0 3 0 3-1.9Z"
                style="fill: #000; fill-opacity: 1"
              />
              <path
                id="hair-color"
                fill="#554845"
                d="M207 81.9c-4.8 1.6-5.6 1.5-7.6-.4-2.4-2.2-3.3-.8-3.4 5.3 0 2 0 2-2.3 1.8-6.3-.3-11.9 2.3-17.1 8.2-3.2 3.5-4.1 4-8 3.9-3.5 0-4.2 3-1.7 8.3 1 2.3 1 2.4-.7 2.8-2.4.5-.7 7.2 2.7 10.5 4.3 4.4 6.6 5.2 7.7 2.9 2.7-5.7 2.6-5.1.3-7.4-2.8-2.7-2-3.4 1-1 4.2 3.5 10.5 3.6 16.6.5 2.9-1.4 3-1.8 1.9-3.7-2.8-4-3-9-.3-7.1a6.2 6.2 0 0 0 7.5-.2c1.5-1.3 2.6-.7 1.4.7-1.8 2-5.5 2.8-7.7 1.6-1.5-.7-1.6-.6-1 1.3 1.3 5.2 5.7 7.4 14.6 7.3 6.5 0 9.4-1 15.7-5.4.4-.3.9 0 1.9 1.2 3.1 3.7 9.5 4 16.2.9 3.4-1.6 4.4-1.3 2.2.6-3.4 3 4.5 6.8 10.3 5.1.7-.2 1 0 2 2 .7 1.3 2.6 4 4.1 6 7.2 9 8 12 8.1 27 .3 11-.4 11.4-.4 15 8-9 10.6-5.2 14-35.8.5-4.6-1-10.8-3.4-14.6-.9-1.3-1.3-2.2-1.2-3 .2-1.8-1.3-3.8-3.5-5-1.8-.8-1.9-1-2.1-3-1-8.7-3-10.5-9.4-8.6-2 .7-2 .8-2.4-2.3-.6-4.6-3.6-8-8.8-10.2a34 34 0 0 1-6.8-3.6c-.3 0 .3 3.3.8 4.3 1.2 2.4.3 2.5-2.3.4-1-.8-3.4-2.2-5.3-3l-6.3-3a11 11 0 0 0-3.2-1.3c-.2.3-.2 2.6.1 4.3.4 2-1 1.8-7-1.1-8.1-4-11-4.4-17.3-2.2Z"
                style="fill: #554845; fill: color(display-p3 0.3333 0.2824 0.2706); fill-opacity: 1"
              />
            </g>
          </g>
        </g>
      </g>
    </g>
  </svg>
</template>
<style>
#rotator {
  transform-box: fill-box;
  transform-origin: center;
  animation: spin 12s linear infinite;
}
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
@media (prefers-reduced-motion: reduce) {
  .rotator {
    transform-box: fill-box;
    transform-origin: center;
    animation: spin 20s linear infinite;
  }
}
</style>
